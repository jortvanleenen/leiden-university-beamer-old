\mode<presentation>

\DeclareOptionBeamer{defaultfooter}{\def\beamer@lu@defaultfooter{#1}}
\ExecuteOptionsBeamer{defaultfooter=false}
\ProcessOptionsBeamer

\setbeamertemplate{footline}{
    \begin{columns}[onlytextwidth]
        \begin{column}{.9\paperwidth}
            \begin{beamercolorbox}[ht=3ex,dp=1.5ex,left]{section in head/foot}%
                \hspace*{.05\paperwidth}
                \ifx\beamer@lu@defaultfooter\@empty
                \iflanguage{dutch}
                {Universiteit Leiden. Bij ons leer je de wereld kennen}
                {Discover the world at Leiden University}
                \else
                \ifx\insertshortauthor\@empty
                \relax
                \else
                \usebeamerfont{author in head/foot}\insertshortauthor~%
                \fi
                \ifx\insertshortinstitute\@empty
                \relax
                \else
                (\insertshortinstitute)%
                \fi
                \ifx\insertshortauthor\@empty
                \ifx\insertshortinstitute\@empty
                \else
                \ ---\ %
                \fi
                \else
                \ ---\ %
                \fi
                \ifx\insertshorttitle\@empty
                \usebeamerfont{title in head/foot}\inserttitle
                \else
                \usebeamerfont{title in head/foot}\insertshorttitle
                \fi
                \fi
            \end{beamercolorbox}
        \end{column}
        \begin{column}{.1\paperwidth}
            \begin{beamercolorbox}[ht=3ex,dp=1.5ex,right]{section in head/foot}%
                \insertframenumber{}
                \hspace*{.05\paperwidth}
            \end{beamercolorbox}%
        \end{column}
    \end{columns}
}

\setbeamertemplate{frametitle}{
    \@tempdima=\textwidth%
    \advance\@tempdima by\beamer@leftmargin%
    \advance\@tempdima by\beamer@rightmargin%
    \vspace{1ex}%
    \begin{beamercolorbox}[left,wd=\the\@tempdima, leftskip=\the\dimexpr\beamer@leftmargin-0.3cm\relax]{frametitle}
        \usebeamerfont{frametitle}
        \insertframetitle
        \ifx\insertframesubtitle\@empty%
        \else%
        {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\strut\par}%
        \fi
    \end{beamercolorbox}
}

\mode<all>
